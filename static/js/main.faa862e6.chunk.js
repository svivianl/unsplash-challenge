(this["webpackJsonpunsplash-challenge"]=this["webpackJsonpunsplash-challenge"]||[]).push([[0],{10:function(e,t,a){},35:function(e,t,a){e.exports=a(70)},45:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),c=a.n(o),l=a(3),s=a(4),i=a(31),u=(a(10),function(){return r.a.createElement("div",{className:"backdrop"},r.a.createElement("div",{className:"circular-progress"}))}),h=a(32),p=a.n(h),m=a(33),d=a.n(m),f=(a(45),function(e){var t=e.label,a=e.value,n=e.alignCenter,o=void 0!==n&&n,c=e.children;return r.a.createElement("div",{className:d()("detail",o?"align-center":null)},r.a.createElement("strong",null,t,":")," ",c," ",r.a.createElement("span",null,a))}),E=a(7),v=a.n(E),b=a(14),g=a(15),O=a.n(g),y="sh6_AXvIvwCarjQeGchViFEUIYxjG5ffvuH37N2TDO8",j=function(e){return"https://api.unsplash.com".concat(e)},N=function(){var e=Object(b.a)(v.a.mark((function e(t,a,n){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n?"/search/photos?page=".concat(a,"&query=").concat(t,"&client_id=").concat(y,"&orientation=").concat(n):"/search/photos?page=".concat(a,"&query=").concat(t,"&client_id=").concat(y),e.abrupt("return",new Promise((function(e,t){O.a.get(j(r)).then((function(a){return 200===a.status&&!a||a&&0===a.data.total?t("No images found"):e(a.data)})).catch((function(e){return t("Bad request")}))})));case 2:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),P=function(){var e=Object(b.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){O.a.get(j("/photos/".concat(t,"/?client_id=").concat(y))).then((function(t){return 200===t.status&&!t||t&&0===t.data.total?a("Image detail found"):e(t.data)})).catch((function(e){return a("Bad request")}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_="Unsplash/GetPhotos",S=["landscape","portrait","squarish"],k=a(16),D=function(e){return e.upslashState},U=(Object(k.a)(D,(function(e){return(null===e||void 0===e?void 0:e.isLoading)||!1})),Object(k.a)(D,(function(e){return(null===e||void 0===e?void 0:e.photoDetails)||{}}))),w=(a(64),function(e){var t=e.id,a=e.created_at,o=e.likes,c=e.alt_description,s=e.description,i=e.user,u=e.urls,h=e.handleClose,m=Object(l.b)(),d=Object(l.c)(U);Object(n.useEffect)((function(){var e;t&&m((e=t,function(t){t({type:"Unsplash/GetPhotoDetailss"}),P(e).then((function(e){return t({type:"Unsplash/GetPhotoDetailssSuccess",payload:e})})).catch((function(e){return t({type:"Unsplash/GetPhotoDetailssError",payload:e})}))}))}),[t,m]);var E=i.name,v=i.location,b=d.location,g=u.small,O=p.a.utc(a).format("MMMM D, YYYY");return r.a.createElement("div",{className:"backdrop",onClick:h},r.a.createElement("div",{className:"photo-details-modal"},r.a.createElement("p",{onClick:h},"X"),r.a.createElement("div",{className:"photo-details-modal-content"},r.a.createElement("div",{className:"title"},r.a.createElement("div",null,r.a.createElement("img",{alt:c,src:g})),r.a.createElement("h3",null,"Photography's details:")),r.a.createElement("div",{className:"photo-details"},s&&r.a.createElement(f,{label:"Description",value:s}),r.a.createElement(f,{label:"Likes",value:o}),b&&b.city&&b.country&&r.a.createElement(f,{label:"Location",value:"".concat(b.city," - ").concat(b.country)}),r.a.createElement(f,{label:"Created at",value:O})),r.a.createElement("hr",null),r.a.createElement("div",{className:"photo-details"},r.a.createElement("h4",null,"Author's details:"),r.a.createElement(f,{label:"Name",value:E,alignCenter:!0},i&&i.profile_image&&i.profile_image.small&&r.a.createElement("div",{className:"profile-image"},r.a.createElement("img",{alt:E,src:i.profile_image.small}))),v&&r.a.createElement(f,{label:"Location",value:v})))))}),G=(a(65),function(e){var t=e.photo,a=Object(n.useState)(!1),o=Object(s.a)(a,2),c=o[0],l=o[1],i=t.urls.small,u=t.alt_description;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"card",onClick:function(){l(!0)}},r.a.createElement("img",{alt:u,src:i})),c&&r.a.createElement(w,Object.assign({},t,{handleClose:function(){l(!1)}})))}),L=function(e){var t=e.error,a=e.total;return t?r.a.createElement("p",null,t):r.a.createElement("p",null,"Found ",r.a.createElement("strong",null,a)," images")},C=(a(66),function(e){var t=e.query,a=e.page,n=e.orientation,o=e.setPage,c=Object(l.b)(),s=Object(l.c)(D),h=s.photos,p=s.total,m=s.error,d=s.isLoading;return r.a.createElement("div",{className:"result"},t&&r.a.createElement(L,{error:m,total:p}),r.a.createElement(i.a,{dataLength:h.length,next:function(){c(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a=arguments.length>2?arguments[2]:void 0;return function(n){n({type:_}),N(e,t,a).then((function(e){return n({type:"Unsplash/GetPhotosSuccess",payload:e})})).catch((function(e){return n({type:"Unsplash/GetPhotosError",payload:e})}))}}(t,a,n)),o(a+1)},hasMore:h.length<p,endMessage:Boolean(h&&h.length)&&r.a.createElement("p",{style:{textAlign:"center"}},r.a.createElement("b",null,"Yay! You have seen it all"))},r.a.createElement("div",{className:"cards"},h.map((function(e){return r.a.createElement(G,{key:e.id,photo:e})})))),d&&r.a.createElement(u,null))}),I=(a(67),function(e){var t=e.orientation,a=e.setOrientation;return r.a.createElement("div",{className:"orientations"},r.a.createElement("h5",null,"Orientation:"),r.a.createElement("div",{className:"orientation",onClick:function(){return a("")}},r.a.createElement("input",{type:"radio",id:"all",value:"all",checked:!t,onChange:function(){return a("")}}),"all"),S.map((function(e){return r.a.createElement("div",{className:"orientation",key:e,onClick:function(){return a(e)}},r.a.createElement("input",{type:"radio",id:e,value:e,checked:t===e,onChange:function(){return a(e)}}),e)})))}),q=(a(68),function(e){var t=e.setQuery,a=e.orientation,o=e.setOrientation,c=Object(n.useState)(""),l=Object(s.a)(c,2),i=l[0],u=l[1];return r.a.createElement("form",{className:"search-form",onSubmit:function(e){e.preventDefault(),t(i)}},r.a.createElement("div",{className:"search-container"},r.a.createElement("input",{"aria-label":"Search",type:"search",placeholder:"search photos",value:i,onChange:function(e){u(e.target.value),e.preventDefault()}}),r.a.createElement("div",{className:"mobile"},r.a.createElement(I,{size:"mobile",orientation:a,setOrientation:o})),r.a.createElement("button",{type:"submit",alt:"Search"},"Search")),r.a.createElement("div",{className:"desktop"},r.a.createElement(I,{size:"desktop",orientation:a,setOrientation:o})))}),M=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(""),i=Object(s.a)(c,2),u=i[0],h=i[1],p=Object(n.useState)(2),m=Object(s.a)(p,2),d=m[0],f=m[1],E=Object(l.b)();return Object(n.useEffect)((function(){a&&(E(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0;return function(n){n({type:"Unsplash/GetInitialPhotos"}),N(e,t,a).then((function(e){return n({type:"Unsplash/GetInitialPhotosSuccess",payload:e})})).catch((function(e){return n({type:"Unsplash/GetInitialPhotosError",payload:e})}))}}(a,1,u)),f(2))}),[E,u,a]),r.a.createElement("div",{className:"App"},r.a.createElement("header",null,r.a.createElement("h1",null,"Upslash Challenge")),r.a.createElement("main",null,r.a.createElement(q,{setQuery:o,orientation:u,setOrientation:h}),r.a.createElement(C,{query:a,page:d,orientation:u,setPage:f})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Y=a(5),x=a(34),X=a(18),B=a(1),T=a(17),A={isLoading:!1,photos:[],error:"",total:0,totalPages:0,photoDetails:{}},F=Object(Y.c)({upslashState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Object(T.cloneDeep)(e.photos);switch(t.type){case"Unsplash/GetInitialPhotos":return Object(B.a)(Object(B.a)({},e),{},{isLoading:!0,photos:[],error:"",total:0,totalPages:0});case _:return Object(B.a)(Object(B.a)({},e),{},{isLoading:!0,error:""});case"Unsplash/GetPhotoDetailss":return Object(B.a)(Object(B.a)({},e),{},{isLoading:!0,photoDetails:{}});case"Unsplash/GetInitialPhotosSuccess":var n=Object(T.cloneDeep)(t.payload.results);return Object(B.a)(Object(B.a)({},e),{},{photos:n,total:t.payload.total,totalPages:t.payload.total_pages,isLoading:!1});case"Unsplash/GetPhotosSuccess":return Object(B.a)(Object(B.a)({},e),{},{photos:[].concat(Object(X.a)(a),Object(X.a)(t.payload.results)),total:t.payload.total,totalPages:t.payload.total_pages,isLoading:!1});case"Unsplash/GetPhotoDetailssSuccess":return Object(B.a)(Object(B.a)({},e),{},{photoDetails:t.payload,isLoading:!1});case"Unsplash/GetInitialPhotosError":case"Unsplash/GetPhotosError":case"Unsplash/GetPhotoDetailssError":return Object(B.a)(Object(B.a)({},e),{},{error:t.payload,isLoading:!1});default:return e}}}),Q=Object(Y.e)(F,Object(Y.d)(Object(Y.a)(x.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));a(69);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:Q},r.a.createElement(M,null)),","),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[35,1,2]]]);
//# sourceMappingURL=main.faa862e6.chunk.js.map